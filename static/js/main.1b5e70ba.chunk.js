(this["webpackJsonpheroku-node-ui"]=this["webpackJsonpheroku-node-ui"]||[]).push([[0],{28:function(e,t,n){e.exports=n(43)},43:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(16),c=n.n(a),E=n(15),u=n(7),i=n(27),O={data:{},players:{},ui:{}},s=n(12),_={SET_WS:"UI_SET_WS",setWs:function(e){return{payload:e,type:_.SET_WS}}},S=_,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.SET_WS:return Object(s.a)(Object(s.a)({},e),{},{ws:t.payload});default:return e}},p=n(9),d={MOVE_DOWN:"API_MOVE_DOWN",MOVE_DOWN_FAILURE:"API_MOVE_DOWN_FAILURE",MOVE_DOWN_SUCCESS:"API_MOVE_DOWN_SUCCESS",MOVE_LEFT:"API_MOVE_LEFT",MOVE_LEFT_FAILURE:"API_MOVE_LEFT_FAILURE",MOVE_LEFT_SUCCESS:"API_MOVE_LEFT_SUCCESS",MOVE_RIGHT:"API_MOVE_RIGHT",MOVE_RIGHT_FAILURE:"API_MOVE_RIGHT_FAILURE",MOVE_RIGHT_SUCCESS:"API_MOVE_RIGHT_SUCCESS",MOVE_UP:"API_MOVE_UP",MOVE_UP_FAILURE:"API_MOVE_UP_FAILURE",MOVE_UP_SUCCESS:"API_MOVE_UP_SUCCESS",SEND:"API_SEND",SEND_FAILURE:"API_SEND_FAILURE",SEND_SUCCESS:"API_SEND_SUCCESS",moveDown:function(e){return{payload:{actions:["moveDown"]},request:function(t){return e.send(t)},type:d.MOVE_DOWN}},moveDownFailure:function(e){return{payload:e,type:d.MOVE_DOWN_FAILURE}},moveDownSuccess:function(e){return{payload:e,type:d.MOVE_DOWN_SUCCESS}},moveLeft:function(e){return{payload:{actions:["moveLeft"]},request:function(t){return e.send(t)},type:d.MOVE_LEFT}},moveLeftFailure:function(e){return{payload:e,type:d.MOVE_LEFT_FAILURE}},moveLeftSuccess:function(e){return{payload:e,type:d.MOVE_LEFT_SUCCESS}},moveRight:function(e){return{payload:{actions:["moveRight"]},request:function(t){return e.send(t)},type:d.MOVE_RIGHT}},moveRightFailure:function(e){return{payload:e,type:d.MOVE_RIGHT_FAILURE}},moveRightSuccess:function(e){return{payload:e,type:d.MOVE_RIGHT_SUCCESS}},moveUp:function(e){return{payload:{actions:["moveUp"]},request:function(t){return e.send(t)},type:d.MOVE_UP}},moveUpFailure:function(e){return{payload:e,type:d.MOVE_UP_FAILURE}},moveUpSuccess:function(e){return{payload:e,type:d.MOVE_UP_SUCCESS}},sendFailure:function(e){return{payload:e,type:d.SEND_FAILURE}},sendSuccess:function(e){return{payload:e,type:d.SEND_SUCCESS}}},f=d,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SEND_SUCCESS:return console.log(JSON.parse(t.payload.data).message),Object(s.a)(Object(s.a)({},e),{},{messages:[JSON.parse(t.payload.data).message].concat(Object(p.a)(e.messages))});default:return e}},m={ONCLOSE:"WEB_SOCKETS_ONCLOSE",ONERROR:"WEB_SOCKETS_ONERROR",ONMESSAGE:"WEB_SOCKETS_ONMESSAGE",ONOPEN:"WEB_SOCKETS_ONOPEN",onclose:function(e){return{payload:e,type:m.ONCLOSE}},onerror:function(e){return{payload:e,type:m.ONERROR}},onmessage:function(e){return{payload:e,type:m.ONMESSAGE}},onopen:function(e){return{payload:e,type:m.ONOPEN}}},U=m,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.ONMESSAGE:return console.log(t.payload),t.payload;default:return e}},b=Object(u.c)({data:y,players:v,ui:l}),I=n(13),C=n.n(I),M=n(8),N=C.a.mark(R);function R(e){var t,n;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=e.request,o.next=3,Object(M.b)(n,JSON.stringify(t));case 3:case"end":return o.stop()}}),N)}var V=[Object(M.c)(f.SEND,R),Object(M.c)(f.MOVE_UP,R),Object(M.c)(f.MOVE_DOWN,R),Object(M.c)(f.MOVE_LEFT,R),Object(M.c)(f.MOVE_RIGHT,R)],g=C.a.mark(L),A=[].concat(Object(p.a)([]),Object(p.a)(V));function L(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.a)(A);case 2:case"end":return e.stop()}}),g)}var h=Object(i.a)(),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,D=Object(u.e)((function(e,t){return b(e,t)}),O,w(Object(u.a)(h)));h.run(L);var F=D,T=n(18),P=n(23),j=n.n(P),x=n(25),W=n(26),k=n(24),G=function(){var e=Object(o.useState)(),t=Object(W.a)(e,2),n=t[0],r=t[1];return n||r(new k.w3cwebsocket("ws://rathe001-test-app.herokuapp.com")),n},H=Object(x.a)({"@global":{"*":{boxSizing:"border-box"},body:{background:"black",color:"green",fontFamily:"Verdana",fontSize:4,margin:0,overflowY:"hidden",padding:0}},active:{background:"#fff"},column:{alignItems:"center",borderBottom:"2px solid #111",borderRight:"2px solid #111",display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"center"},grid:{"&:focus":{outline:"none"},borderLeft:"2px solid #111",borderTop:"2px solid #111",display:"flex",flexDirection:"column-reverse",height:"100vh",maxHeight:"100%",padding:0,width:"100vw"},row:{alignItems:"stretch",display:"flex",flex:"1 1 auto",flexDirection:"row",width:"100%"}}),B=function(){var e=H(),t=Object(E.b)(),n=Object(E.c)((function(e){return e.players})),o=Object(p.a)(Array(40)).fill(Object(p.a)(Array(80))),a=G();a&&(a.onerror=function(e){console.log("Connection Error")},a.onclose=function(e){console.log("WebSocket Client Disconnected")},a.onopen=function(e){console.log("WebSocket Client Connected")},a.onmessage=function(e){var n=JSON.parse(e.data);t(U.onmessage(n))});var c=function(e,t){return Object.keys(n).find((function(o){return n[o].position.x===e&&n[o].position.y===t}))};return r.a.createElement("div",{tabIndex:"0",role:"textbox",className:e.grid,onKeyUp:function(e){"ArrowUp"===e.key?t(f.moveUp(a)):"ArrowDown"===e.key?t(f.moveDown(a)):"ArrowLeft"===e.key?t(f.moveLeft(a)):"ArrowRight"===e.key&&t(f.moveRight(a))}},o.map((function(t,n){return r.a.createElement("div",{className:e.row,key:n},t.map((function(t,o){return r.a.createElement("div",{className:j()(e.column,Object(T.a)({},e.active,c(o,n))),key:o})})))})))};c.a.render(r.a.createElement(E.a,{store:F},r.a.createElement(B,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.1b5e70ba.chunk.js.map