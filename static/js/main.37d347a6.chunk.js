(this["webpackJsonpheroku-node-ui"]=this["webpackJsonpheroku-node-ui"]||[]).push([[0],{26:function(e,n,t){e.exports=t(41)},41:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(16),c=t.n(r),s=t(9),u=t(7),i=t(25),l={data:{messages:[]},ui:{}},d=t(13),p={SET_WS:"UI_SET_WS",setWs:function(e){return{payload:e,type:p.SET_WS}}},E=p,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E.SET_WS:return Object(d.a)(Object(d.a)({},e),{},{ws:n.payload});default:return e}},O=t(15),b={ONCLOSE:"WEB_SOCKETS_ONCLOSE",ONERROR:"WEB_SOCKETS_ONERROR",ONMESSAGE:"WEB_SOCKETS_ONMESSAGE",ONOPEN:"WEB_SOCKETS_ONOPEN",onclose:function(e){return{payload:e,type:b.ONCLOSE}},onerror:function(e){return{payload:e,type:b.ONERROR}},onmessage:function(e){return{payload:e,type:b.ONMESSAGE}},onopen:function(e){return{payload:e,type:b.ONOPEN}}},N=b,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N.ONMESSAGE:return console.log(JSON.parse(n.payload.data).message),Object(d.a)(Object(d.a)({},e),{},{messages:[JSON.parse(n.payload.data).message].concat(Object(O.a)(e.messages))});default:return e}},g=Object(u.c)({data:f,ui:S}),w=t(12),_=t.n(w),m=t(10),y={SEND_INPUT:"API_SEND_INPUT",SEND_INPUT_FAILURE:"API_SEND_INPUT_FAILURE",SEND_INPUT_SUCCESS:"API_SEND_INPUT_SUCCESS",sendInput:function(e){return{payload:{message:e.message},request:function(e){return window.websocketclient.send(e)},type:y.SEND_INPUT}},sendInputFailure:function(e){return{payload:e,type:y.SEND_INPUT_FAILURE}},sendInputSuccess:function(e){return{payload:e,type:y.SEND_INPUT_SUCCESS}}},I=y,h=_.a.mark(v);function v(e){var n,t,a;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.payload,t=e.request,o.prev=1,o.next=4,Object(m.b)(t,JSON.stringify(n));case 4:return a=o.sent,o.next=7,Object(m.c)(I.sendInputSuccess(a));case 7:o.next=13;break;case 9:return o.prev=9,o.t0=o.catch(1),o.next=13,Object(m.c)(I.sendInputFailure(o.t0));case 13:case"end":return o.stop()}}),h,null,[[1,9]])}var j=[Object(m.d)(I.SEND_INPUT,v)],k=_.a.mark(C),T=[].concat(Object(O.a)([]),Object(O.a)(j));function C(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)(T);case 2:case"end":return e.stop()}}),k)}var P=Object(i.a)(),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,x=Object(u.e)((function(e,n){return g(e,n)}),l,U(Object(u.a)(P)));P.run(C);var D=x,R=t(19),W=t(24),A=Object(R.a)({Input:{background:"#111111",border:"1px solid #666666",bottom:0,color:"green",fontFamily:"Verdana",fontSize:16,padding:10,position:"fixed",width:"100%"}}),F=function(){var e=Object(a.useState)(""),n=Object(W.a)(e,2),t=n[0],r=n[1],c=A(),u=Object(s.b)();return o.a.createElement("input",{className:c.Input,type:"text",onChange:function(e){return r(e.target.value)},onKeyPress:function(e){var n;"Enter"===e.key&&(n=e.target.value,u(I.sendInput({message:n})),r(""))},value:t,placeholder:"Enter message"})},L=t(23),B=function(){window.websocketclient=new L.w3cwebsocket("ws://rathe001-test-app.herokuapp.com")},J=Object(R.a)({"@global":{"*":{boxSizing:"border-box"},body:{background:"black",color:"green",fontFamily:"Verdana",fontSize:16,margin:0,overflowY:"hidden",padding:0},p:{margin:[0,0,5,0],padding:0}},wrap:{display:"flex",flexDirection:"column",height:"100vh",maxHeight:"100%",padding:10,width:"100vw"}}),K=function(){var e=J(),n=Object(s.b)(),t=Object(s.c)((function(e){return e.data})).messages;return window.websocketclient||(B(),window.websocketclient.onerror=function(e){console.log("Connection Error"),n(N.onerror(e))},window.websocketclient.onclose=function(e){console.log("WebSocket Client Disconnected"),n(N.onclose(e)),B()},window.websocketclient.onopen=function(e){console.log("WebSocket Client Connected"),n(N.onopen(e))},window.websocketclient.onmessage=function(e){console.log(e),n(N.onmessage(e))}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.wrap},t.map((function(e,n){return o.a.createElement("p",{key:n},e)}))),o.a.createElement(F,null))};c.a.render(o.a.createElement(s.a,{store:D},o.a.createElement(K,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.37d347a6.chunk.js.map